<InputScreen1>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: [0.436, 0.44, 0.444, 1.0]
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            font_name: 'LatoRegular'
            canvas.before:
                Color:
                    rgba: [0.96, 0.97, 0.97, 1.0]
                Rectangle:
                    pos: self.pos
                    size: self.size
            text: 'Patient Profile'
            color: [0.436, 0.44, 0.444, 1.0]
            size_hint: 1, 0.15
            font_size: 28

        Label:
            font_name: 'LatoRegular'
            text: 'Clinical chart'
            color: [0.96, 0.97, 0.97, 1.0]
            size_hint: 1, 0.1
            font_size: 24

        GridLayout:
            size_hint: 1, 0.67
            rows: 5
            cols: 2
            padding: 50, 15
            spacing: 15, 30
            row_default_height: "30dp"
            row_force_default: True

            Label:
                font_name: 'LatoRegular'
                text: "Temperature [Â°C]"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("TEMP", args[1])
            Label:
                font_name: 'LatoRegular'
                text: "Heart rate"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("HRATE", args[1])

            Label:
                font_name: 'LatoRegular'
                text: "Weakness"
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_name: 'LatoRegular'
                    text: "NA"
                CheckBox:
                    name: "weakness_na"
                    group: "weakness"
                    active: True
                    on_release: app.set_var_value("WEAK", "")
                Label:
                    font_name: 'LatoRegular'
                    text: "Yes"
                CheckBox:
                    name: "weakness_yes"
                    group: "weakness"
                    active: False
                    on_release: app.set_var_value("WEAK", "1")
                Label:
                    font_name: 'LatoRegular'
                    text: "No"
                CheckBox:
                    name: "weakness_no"
                    group: "weakness"
                    active: False
                    on_release: app.set_var_value("WEAK", "0")

            Label:
                font_name: 'LatoRegular'
                text: "Vomit"
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_name: 'LatoRegular'
                    text: "NA"
                CheckBox:
                    name: "vomit_na"
                    group: "vomit"
                    active: True
                    on_release: app.set_var_value("VOMIT", "")
                Label:
                    font_name: 'LatoRegular'
                    text: "Yes"
                CheckBox:
                    name: "vomit_yes"	
                    group: "vomit"
                    active: False
                    on_release: app.set_var_value("VOMIT", "1")
                Label:
                    font_name: 'LatoRegular'
                    text: "No"
                CheckBox:
                    name: "vomit_no"
                    group: "vomit"
                    active: False
                    on_release: app.set_var_value("VOMIT", "0")

            Label:
                font_name: 'LatoRegular'
                text: "Diarrhea"
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_name: 'LatoRegular'
                    text: "NA"
                CheckBox:
                    name: "diarrhea_na"
                    group: "diarrhea"
                    active: True
                    on_release: app.set_var_value("DIARR", "")
                Label:
                    font_name: 'LatoRegular'
                    text: "Yes"                
                CheckBox:
                    name: "diarrhea_yes"
                    group: "diarrhea"
                    active: False
                    on_release: app.set_var_value("DIARR", "1")
                Label:
                    font_name: 'LatoRegular'
                    text: "No"
                CheckBox:
                    name: "diarrhea_no"
                    group: "diarrhea"
                    active: False
                    on_release: app.set_var_value("DIARR", "0")

        AnchorLayout:
            size_hint: 1, 0.08
            anchor_x: 'right'
            anchor_y: 'top'            
            ImageButton:
                source: "./buttons/next.png"
                size_hint: 0.5, 0.8
                on_press: app.go_screen(2)

<InputScreen2>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: [0.436, 0.44, 0.444, 1.0]
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            font_name: 'LatoRegular'
            canvas.before:
                Color:
                    rgba: [0.96, 0.97, 0.97, 1.0]
                Rectangle:
                    pos: self.pos
                    size: self.size
            text: 'Patient Profile'
            color: [0.436, 0.44, 0.444, 1.0]
            size_hint: 1, 0.15
            font_size: 28

        Label:
            font_name: 'LatoRegular'
            text: 'Metabolic panel'
            color: [0.96, 0.97, 0.97, 1.0]
            size_hint: 1, 0.1
            font_size: 24

        GridLayout:
            size_hint: 1, 0.67
            rows: 5
            cols: 2
            padding: 50, 15
            spacing: 15, 30
            row_default_height: "30dp"
            row_force_default: True

            Label:
                font_name: 'LatoRegular'
                text: "AST [U/L]"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("AST_1", args[1])
            Label:
                font_name: 'LatoRegular'
                text: "ALK [U/L]"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("AlkPhos_1", args[1])
            Label:
                font_name: 'LatoRegular'
                text: "CRE [umol/L]"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("Cr_1", args[1])
            Label:
                font_name: 'LatoRegular'
                text: "tCO2 [mmol/L]"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("TCo2_1", args[1])
            Label:
                font_name: 'LatoRegular'
                text: "BUN [mmol urea/L]"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("BUN_1", args[1])

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.08
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'top'            
                ImageButton:
                    source: "./buttons/prev.png"
                    size_hint: 1, 0.8
                    on_press: app.go_screen(1)

            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'top'            
                ImageButton:
                    source: "./buttons/next.png"
                    size_hint: 1, 0.8
                    on_press: app.go_screen(3)

<InputScreen3>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: [0.436, 0.44, 0.444, 1.0]
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            font_name: 'LatoRegular'
            canvas.before:
                Color:
                    rgba: [0.96, 0.97, 0.97, 1.0]
                Rectangle:
                    pos: self.pos
                    size: self.size
            text: 'Patient Profile'
            color: [0.436, 0.44, 0.444, 1.0]
            size_hint: 1, 0.15
            font_size: 28

        Label:
            font_name: 'LatoRegular'
            text: 'qPCR data'
            color: [0.96, 0.97, 0.97, 1.0]
            size_hint: 1, 0.1
            font_size: 24

        GridLayout:
            size_hint: 1, 0.15
            rows: 1
            cols: 2
            padding: 50, 15
            spacing: 15, 30
            row_default_height: "30dp"
            row_force_default: True

            Label:
                font_name: 'LatoRegular'
                text: "Virus load [log units]"
            TextInput:
                text: ""
                multiline: False
                input_type: 'number'
                input_filter: 'float'
                on_text: app.set_var_value("PCR", args[1])

        AnchorLayout:
            size_hint: 1, 0.5
            anchor_x: 'center'
            anchor_y: 'center'
            ImageButton:
                source: "./buttons/estimate.png"
                size_hint: 1, 0.15
                on_press: app.calc_risk()

        AnchorLayout:
            size_hint: 1, 0.08
            anchor_x: 'left'
            anchor_y: 'top'
            ImageButton:
                source: "./buttons/prev.png"
                size_hint: 0.5, 0.8
                on_press: app.go_screen(2)

<ResultScreen>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: [0.436, 0.44, 0.444, 1.0]
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            font_name: 'LatoRegular'
            canvas.before:
                Color:
                    rgba: [0.96, 0.97, 0.97, 1.0]
                Rectangle:
                    pos: self.pos
                    size: self.size
            text: 'Patient Prognosis'
            color: [0.436, 0.44, 0.444, 1.0]
            size_hint: 1, 0.15
            font_size: 28

        RelativeLayout:
            size_hint: 1, 0.55

            Widget:
                size_hint: 0.6, 0.6
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                canvas:
                    Color:
                        rgba: [1, 1, 1, 1]
                    Rectangle:
                        source: "./resback.png"
                        pos: self.pos
                        size: self.size

            Widget:
                size_hint: 0.1, 0.45
                pos_hint: {'x': 0.3, 'y': 0.25}
                canvas.before:
                    Color:
                        rgba: root.curr_risk_color
                    Rectangle:
                        pos: self.pos
                        size: self.size[0], self.size[1] * root.curr_risk_level
                    Color:
                        rgba: [0, 0, 0, 1]
                    Line:
                        width: 0.5
                        points: [self.pos[0], self.pos[1], self.pos[0] + root.size[0] * 0.4, self.pos[1]]

            Label:
                font_name: 'LatoRegular'
                text: str(root.curr_risk_label)
                color: [0.136, 0.14, 0.144, 1.0]
                pos_hint: {'center_x': 0.5, 'center_y': 0.75} 

            Label:
                font_name: 'LatoRegular' 
                text: "Risk level: " + "%i" % (root.curr_risk_level * 100) + "%"
                color: [0.436, 0.44, 0.444, 1.0]
                pos_hint: {'center_x': 0.6, 'center_y': 0.42} 

        AnchorLayout:
            size_hint: 1, 0.3
            anchor_x: 'center'
            anchor_y: 'center'
            ImageButton:
                source: "./buttons/enter.png"
                size_hint: 1, 0.3
                on_press: app.restart()

